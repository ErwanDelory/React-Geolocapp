{"ast":null,"code":"var _jsxFileName = \"/Users/erwandelory/Documents/Semestre_9/Cloud_Computing/projetcloud2front/src/pages/home.jsx\";\nimport React, { useState } from 'react';\nimport { Button, Col, Container, Form, Row, Table } from 'react-bootstrap';\nimport { Map, TileLayer, Marker } from 'react-leaflet';\nimport { Icon } from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nexport const icon = new Icon({\n  iconUrl: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/134893/pin-red.svg',\n  iconSize: [25, 25]\n});\n\nconst LocationMarker = ({\n  coord\n}) => {\n  console.log(coord);\n  const coor = coord.split(',');\n  return /*#__PURE__*/React.createElement(Marker, {\n    position: [coor[0], coor[1]],\n    icon: icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 10\n    }\n  });\n};\n\nconst Home = () => {\n  const [latitude, setLatitude] = useState('43.2683');\n  const [longitude, setLongitude] = useState('5.39579');\n  const [lieu, setLieu] = useState([]);\n  const [hierarchy, setHierarchy] = useState([]);\n\n  const handleInputLatitudeChange = event => {\n    const {\n      value\n    } = event.target;\n    setLatitude(value);\n  };\n\n  const handleInputLongitudeChange = event => {\n    const {\n      value\n    } = event.target;\n    setLongitude(value);\n  };\n\n  const searchByCoord = () => {\n    fetch('http://localhost:5000/api/r1', {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      } //body: JSON.stringify({ lat: latitude, lon: longitude, code: 4 }),\n\n    }).then(res => res.json()).then(data => {\n      setLieu(data.lieu);\n      setHierarchy(data.hierarchy);\n    });\n  };\n\n  console.log(lieu);\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"homePage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Recherche par ville\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Saisir le nom d'une ville\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"warning\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Envoyer\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Lieux\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Latitude\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Longitude\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Population\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, lieu.map(data => /*#__PURE__*/React.createElement(\"tr\", {\n    key: data.lat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, data.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, data.lat), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, data.lon), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, data.pop))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), hierarchy.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, \"Ces lieux se trouvent dans la zone: \", hierarchy[0].name, \" avec une population de \", hierarchy[0].pop, \" habitants, qui se trouve dans le d\\xE9partement: \", hierarchy[1].name, \" avec une population de\", ' ', hierarchy[0].pop, \" habitants, qui se trouve dans la r\\xE9gion:\", ' ', hierarchy[3].name, \" avec une population de \", hierarchy[0].pop, ' ', \"habitants, qui se trouve dans le pays: \", hierarchy[3].name, \" avec une population de \", hierarchy[0].pop, \" habitants\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"coord\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"Recherche par coordonn\\xE9es\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Latitude\", /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Saisir la latitude\",\n    value: latitude,\n    onChange: handleInputLatitudeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Longitude\", /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Saisir la longitude\",\n    value: longitude,\n    onChange: handleInputLongitudeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"warning\",\n    onClick: searchByCoord,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, \"Envoyer\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Map, {\n    center: [latitude, longitude],\n    zoom: 13,\n    scrollWheelZoom: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TileLayer, {\n    attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n    url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(LocationMarker, {\n    coord: '43.2683,5.39579',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }), hierarchy.map(data => /*#__PURE__*/React.createElement(LocationMarker, {\n    coord: `${data.lat},${data.lon}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/erwandelory/Documents/Semestre_9/Cloud_Computing/projetcloud2front/src/pages/home.jsx"],"names":["React","useState","Button","Col","Container","Form","Row","Table","Map","TileLayer","Marker","Icon","icon","iconUrl","iconSize","LocationMarker","coord","console","log","coor","split","Home","latitude","setLatitude","longitude","setLongitude","lieu","setLieu","hierarchy","setHierarchy","handleInputLatitudeChange","event","value","target","handleInputLongitudeChange","searchByCoord","fetch","method","headers","Accept","then","res","json","data","map","lat","name","lon","pop","length"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Button, Col, Container, Form, Row, Table } from 'react-bootstrap';\nimport { Map, TileLayer, Marker } from 'react-leaflet';\nimport { Icon } from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nexport const icon = new Icon({\n  iconUrl: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/134893/pin-red.svg',\n  iconSize: [25, 25],\n});\n\nconst LocationMarker = ({ coord }) => {\n  console.log(coord);\n  const coor = coord.split(',');\n  return <Marker position={[coor[0], coor[1]]} icon={icon} />;\n};\n\nconst Home = () => {\n  const [latitude, setLatitude] = useState('43.2683');\n  const [longitude, setLongitude] = useState('5.39579');\n  const [lieu, setLieu] = useState([]);\n  const [hierarchy, setHierarchy] = useState([]);\n\n  const handleInputLatitudeChange = (event) => {\n    const { value } = event.target;\n    setLatitude(value);\n  };\n\n  const handleInputLongitudeChange = (event) => {\n    const { value } = event.target;\n    setLongitude(value);\n  };\n\n  const searchByCoord = () => {\n    fetch('http://localhost:5000/api/r1', {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      //body: JSON.stringify({ lat: latitude, lon: longitude, code: 4 }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLieu(data.lieu);\n        setHierarchy(data.hierarchy);\n      });\n  };\n\n  console.log(lieu);\n\n  return (\n    <Container className=\"homePage\">\n      <Form>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Recherche par ville</Form.Label>\n          <Form.Control type=\"text\" placeholder=\"Saisir le nom d'une ville\" />\n        </Form.Group>\n\n        <Button variant=\"warning\" type=\"submit\">\n          Envoyer\n        </Button>\n      </Form>\n\n      <br />\n      <Table striped bordered hover size=\"sm\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Lieux</th>\n            <th>Latitude</th>\n            <th>Longitude</th>\n            <th>Population</th>\n          </tr>\n        </thead>\n        <tbody>\n          {lieu.map((data) => (\n            <tr key={data.lat}>\n              <td>1</td>\n              <td>{data.name}</td>\n              <td>{data.lat}</td>\n              <td>{data.lon}</td>\n              <td>{data.pop}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n      <br />\n      {hierarchy.length > 0 && (\n        <div>\n          <p>\n            Ces lieux se trouvent dans la zone: {hierarchy[0].name} avec une\n            population de {hierarchy[0].pop} habitants, qui se trouve dans le\n            département: {hierarchy[1].name} avec une population de{' '}\n            {hierarchy[0].pop} habitants, qui se trouve dans la région:{' '}\n            {hierarchy[3].name} avec une population de {hierarchy[0].pop}{' '}\n            habitants, qui se trouve dans le pays: {hierarchy[3].name} avec une\n            population de {hierarchy[0].pop} habitants\n          </p>\n        </div>\n      )}\n      <br />\n\n      <Form>\n        <Form.Group controlId=\"coord\">\n          <Form.Label>Recherche par coordonnées</Form.Label>\n          <Row>\n            <Col>\n              Latitude\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Saisir la latitude\"\n                value={latitude}\n                onChange={handleInputLatitudeChange}\n              />\n            </Col>\n            <Col>\n              Longitude\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Saisir la longitude\"\n                value={longitude}\n                onChange={handleInputLongitudeChange}\n              />\n            </Col>\n          </Row>\n        </Form.Group>\n\n        <Button variant=\"warning\" onClick={searchByCoord}>\n          Envoyer\n        </Button>\n      </Form>\n      <br />\n      <Map center={[latitude, longitude]} zoom={13} scrollWheelZoom={false}>\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <LocationMarker coord={'43.2683,5.39579'} />\n        {hierarchy.map((data) => (\n          <LocationMarker coord={`${data.lat},${data.lon}`} />\n        ))}\n      </Map>\n    </Container>\n  );\n};\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}